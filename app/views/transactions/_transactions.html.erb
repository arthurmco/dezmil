<% unless @transactions.nil? %>
  Categorizado:
<div class="progress">
  <% if @progress %>
    <div class="progress-bar bg-success" style="width: <%= @progress %>%">
      <% if @progress > 10 %><%= @progress %>%<% end %>
    </div>
  <% end %>
</div>
<% end %>
<% if @transactions.count > 0 %>
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">Data</th>
      <th scope="col">Memo</th>
      <th scope="col">Valor</th>
      <th scope="col"></th>
      <% unless @grouped %>
        <th scope="col">Categoria</th>
      <% end %>
    </tr> 
  </thead>
  <tbody>
    <% @transactions.each do |t| %>
      <tr>
        <td><%= t.date %></td>
        <td><%= t.memo %></td>
        <td><%= t.amount %></td>
        <td class='status'>
          <%= fa_icon 'check-circle', class: 'hidden success' %>
          <%= fa_icon 'exclamation-circle', class: 'hidden failure' %>
          <%= fa_icon 'spinner', class: 'loading hidden' %>
        </td>
        <% unless @grouped %>
          <td class='category'>
            <%= select_tag 'category',
              categories(t).html_safe,
              class: 'category-select custom-select',
              'data-transaction' => t.id.to_s,
              style: "background-color: #{t.category&.color || 'white'}",
              id: nil
            %>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
<% else %>
  Sem dados!
<% end %>
